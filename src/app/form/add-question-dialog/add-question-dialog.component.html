<mat-card>
  <mat-card-content>
    <form [formGroup]="form">
        <mat-form-field>
          <mat-label>Type</mat-label>
          <mat-select formControlName="type">
            <mat-option value="text">Paragraph</mat-option>
            <mat-option value="checkbox">Checkbox</mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Question</mat-label>
          <input matInput formControlName="question" type="text">
        </mat-form-field>
        <div class="answer-options" formArrayName="answers"
             *ngIf="typeFormControl.value === 'checkbox'">
          <mat-form-field *ngFor="let answer of answersFormArr.controls; let i = index">
            <mat-label>Add Answer Option</mat-label>
            <input matInput type="text" formControlName="{{i}}">
          </mat-form-field>
          <button (click)="addAnswerOption()" mat-button>
            Add another answer
          </button>
        </div>
        <mat-checkbox
          *ngIf="typeFormControl.value === 'checkbox'"
          formControlName="ownAnswer">
          Allow user to specify their own answer
        </mat-checkbox>
        <mat-checkbox formControlName="isRequired">
          The field is required
        </mat-checkbox>
      <button mat-raised-button (click)="submit()" [disabled]="form.invalid">
        Submit
      </button>
    </form>
  </mat-card-content>
</mat-card>
